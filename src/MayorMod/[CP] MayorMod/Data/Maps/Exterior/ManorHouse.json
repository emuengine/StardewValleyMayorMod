{
    "Changes": [
        {
            "LogName": "Loading locked door message for ManorHouse",
            "Action": "EditData",
            "Target": "Strings/StringsFromMaps",
            "Entries": {
                "{{ModId}}_ManorHouseClosed": "{{i18n:{{ModId}}_MapStrings.ManorHouseClosed}}"
            }
        },
        {   
            // Fix for spacecore throwing "Scheduler could not find route while honoring Gender" errors
            "Action": "EditMap",
            "Target": "Maps/Town",
            "TextOperations": [
                {
                    "Operation": "Append",
                    "Target": [
                        "MapProperties",
                        "NPCWarp"
                    ],
                    "Value": "59 85 EmuEngine.MayorModCP_ManorHouse 4 11",
                    "Delimiter": " "
                }
            ]
        },
        {
            "LogName": "Patching Maps/Town to update ManorHouse door location when mayor",
            "Action": "EditMap",
            "Target": "Maps/Town",
            "PatchMode": "Overlay",
            "FromFile": "Assets/Maps/MapPatches/ManorHouseDoorLocked.tmx",
            "FromArea": {
                "X": 0,
                "Y": 0,
                "Width": 2,
                "Height": 1
            },
            "ToArea": {
                "X": 58,
                "Y": 85,
                "Width": 2,
                "Height": 1
            },
            "When": {
                "HasFlag: hostPlayer | contains={{ModId}}_WonMayorElection": true
            }
        },
        {
            "LogName": "Patching Maps/Town to update ManorHouse door location when mayor",
            "Action": "EditMap",
            "Target": "Maps/Town",
            "PatchMode": "Overlay",
            "FromFile": "Assets/Maps/MapPatches/ManorHouseDoor.tmx",
            "FromArea": {
                "X": 0,
                "Y": 0,
                "Width": 2,
                "Height": 1
            },
            "ToArea": {
                "X": 58,
                "Y": 85,
                "Width": 2,
                "Height": 1
            },
            "When": {
                "HasFlag: hostPlayer | contains={{ModId}}_ElectedAsMayor": true,
                "HasFlag: hostPlayer | contains={{ModId}}_WonMayorElection": false
            }
        },
        {
            "LogName": "Patching Maps/Town to remove truck beside ManorHouse when mayor",
            "Action": "EditMap",
            "Target": "Maps/Town",
            "PatchMode": "ReplaceByLayer",
            "FromFile": "Assets/Maps/MapPatches/ManorHouseTruck.tmx",
            "FromArea": {
                "X": 0,
                "Y": 0,
                "Width": 4,
                "Height": 7
            },
            "ToArea": {
                "X": 65,
                "Y": 79,
                "Width": 4,
                "Height": 7
            },
            "When": {
                "HasFlag: hostPlayer | contains={{ModId}}_ElectedAsMayor": true,
                "HasFlag: hostPlayer | contains={{ModId}}_WonMayorElection": false
            }
        }
    ]
}