{
    "Changes": [
        {
            "LogName": "Patching Maps/Town to add {{ModId}}_VotingOfficeExterior",
            "Action": "EditMap",
            "Priority": "Early",
            "Target": "Maps/Town",
            "PatchMode": "Overlay",
            "FromFile": "Assets/Maps/MapPatches/VotingDay.tmx",
            "FromArea": {
                "X": 0,
                "Y": 0,
                "Width": 13,
                "Height": 6
            },
            "ToArea": {
                "X": 30,
                "Y": 31,
                "Width": 13,
                "Height": 6
            },
            "When": {
                "HasFlag: hostPlayer | contains={{ModId}}_VotingDay": true,
                "IsCommunityCenterComplete": false
            }
        },
        {   
            // Fix for spacecore throwing "Scheduler could not find route while honoring Gender" errors
            "Action": "EditMap",
            "Target": "Maps/Town",
            "TextOperations": [
                {
                    "Operation": "Append",
                    "Target": [
                        "MapProperties",
                        "NPCWarp"
                    ],
                    "Value": "34 35 EmuEngine.MayorModCP_VotingOffice 7 9",
                    "Delimiter": " "
                }
            ]
        },
        {
            "LogName": "Patching Maps/Town to add voting sign",
            "Action": "EditMap",
            "Target": "Maps/Town",
            "PatchMode": "Overlay",
            "FromFile": "Assets/Maps/MapPatches/VotingSign.tmx",
            "FromArea": {
                "X": 0,
                "Y": 0,
                "Width": 2,
                "Height": 2
            },
            "ToArea": {
                "X": 51,
                "Y": 51,
                "Width": 2,
                "Height": 2
            },
            "When": {
                "HasFlag: hostPlayer | contains={{ModId}}_VotingDay": true,
                "HasMod | contains=FlashShifter.StardewValleyExpandedCP": false
            }
        },
        {
            "LogName": "Patching Maps/Town to add voting sign on SVE town map",
            "Action": "EditMap",
            "Target": "Maps/Town",
            "PatchMode": "Overlay",
            "FromFile": "Assets/Maps/MapPatches/VotingSignSVE.tmx",
            "FromArea": {
                "X": 0,
                "Y": 0,
                "Width": 2,
                "Height": 2
            },
            "ToArea": {
                "X": 51,
                "Y": 51,
                "Width": 2,
                "Height": 2
            },
            "When": {
                "HasFlag: hostPlayer | contains={{ModId}}_VotingDay": true,
                "HasMod | contains=FlashShifter.StardewValleyExpandedCP": true
            }
        },
        {
            "LogName": "Patching Maps/Town to add CC voting sign",
            "Action": "EditMap",
            "Target": "Maps/Town",
            "PatchMode": "Overlay",
            "FromFile": "Assets/Maps/MapPatches/VotingSignCC.tmx",
            "FromArea": {
                "X": 0,
                "Y": 0,
                "Width": 5,
                "Height": 4
            },
            "ToArea": {
                "X": 47,
                "Y": 18,
                "Width": 5,
                "Height": 4
            },
            "When": {
                "HasFlag: hostPlayer | contains={{ModId}}_VotingDay": true,
                "IsCommunityCenterComplete": true
            }
        }
    ]
}